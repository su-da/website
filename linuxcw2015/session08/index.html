<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="SEIE, Soochow University">
  <title>sh/bash scripting</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/css/reveal.css">
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #2a211c; color: #bdae9d; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #2a211c; color: #bdae9d; border-right: 1px solid #bdae9d; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #bdae9d; background-color: #2a211c; }
code > span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code > span.dt { text-decoration: underline; } /* DataType */
code > span.dv { color: #44aa43; } /* DecVal */
code > span.bn { color: #44aa43; } /* BaseN */
code > span.fl { color: #44aa43; } /* Float */
code > span.ch { color: #049b0a; } /* Char */
code > span.st { color: #049b0a; } /* String */
code > span.co { color: #0066ff; font-style: italic; } /* Comment */
code > span.al { color: #ffff00; } /* Alert */
code > span.fu { color: #ff9358; font-weight: bold; } /* Function */
code > span.er { color: #ffff00; font-weight: bold; } /* Error */
code > span.wa { color: #ffff00; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #049b0a; } /* SpecialChar */
code > span.vs { color: #049b0a; } /* VerbatimString */
code > span.ss { color: #049b0a; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #0066ff; font-style: italic; } /* Documentation */
code > span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code > span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code > span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/css/theme/black.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/css/print/pdf.css' : '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
  <h1 class="title">sh/bash scripting</h1>
  <h2 class="author">SEIE, Soochow University</h2>
  <h3 class="date">Week 09, 2015-2016-1</h3>
</section>

<section class="slide level2">

<figure>
<img src="res/LFS01_ch14_screen03.jpg" alt="Shell Scripts" /><figcaption>Shell Scripts</figcaption>
</figure>
</section>
<section class="slide level2">

<ul>
<li class="fragment">Scripts requirs an interpreter</li>
<li class="fragment"><p>File: the first line starts with <code>#!</code></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/bash</span>
<span class="kw">ls</span> <span class="kw">|</span> <span class="kw">more</span></code></pre></div></li>
</ul>
</section>
<section id="shell-interpreters" class="slide level2">
<h1>Shell interpreters</h1>
<pre><code>/bin/sh
/bin/bash
/bin/tcsh
/bin/csh
/bin/ksh
/usr/bin/perl
/usr/bin/python</code></pre>
</section>
<section class="slide level2">

<p><code>vim testsh.sh</code></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="kw">echo</span> <span class="st">&quot;HELLO&quot;</span>
<span class="kw">echo</span> <span class="st">&quot;WORLD&quot;</span></code></pre></div>
<div class="fragment">
<p><code>bash testsh.sh</code></p>
</div>
<div class="fragment">
<pre><code>chmod +x testsh.sh
./testsh.sh</code></pre>
</div>
</section>
<section id="interactive-scripts" class="slide level2">
<h1>Interactive scripts</h1>
<p><code>#</code> starts comments</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="co"># Interactive reading of variables</span>
<span class="kw">echo</span> <span class="st">&quot;ENTER YOUR NAME&quot;</span>
<span class="kw">read</span> <span class="ot">sname</span>
<span class="co"># Display of variable values</span>
<span class="kw">echo</span> <span class="ot">$sname</span></code></pre></div>
</section>
<section id="return-values" class="slide level2">
<h1>Return Values</h1>
<ul>
<li class="fragment">0 for success; none-zero for failure.</li>
<li class="fragment">the last retune value in environment variable <code>$?</code></li>
<li class="fragment">return by <code>exit</code> statement in shell.</li>
</ul>
</section>
<section><section id="syntax" class="titleslide slide level1"><h1>Syntax</h1></section><section id="special-character-in-bash" class="slide level2">
<h1>Special character in bash</h1>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Character</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>#</code></td>
<td style="text-align: left;">comment, except: <code>\#</code> and <code>#!</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>\</code></td>
<td style="text-align: left;">continuation on to the next line</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>;</code></td>
<td style="text-align: left;">following is a new command</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>$</code></td>
<td style="text-align: left;">indicates a variable</td>
</tr>
</tbody>
</table>
</section><section id="comments" class="slide level2">
<h1>Comments</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># This line will not get executed.</span></code></pre></div>
</section><section id="long-lines" class="slide level2">
<h1>Long Lines</h1>
<pre><code>scp abc@server1.linux.com:\
/var/ftp/pub/userdata/custdata/read \
abc@server3.linux.co.in:\
/opt/oradba/master/abc/</code></pre>
<div class="fragment">
<p>What is a line?</p>
</div>
</section><section id="multiple-commands-on-a-single-line" class="slide level2">
<h1>Multiple Commands on a Single Line</h1>
<pre><code>make ; make install ; make clean</code></pre>
<div class="fragment">
<pre><code>make &amp;&amp; make install &amp;&amp; make clean</code></pre>
<p>Abort if one fails</p>
</div>
<div class="fragment">
<pre><code>cat file1 || cat file2 || cat file3</code></pre>
<p>If something succeeds, then stop executing any further steps.</p>
</div>
</section><section id="functions" class="slide level2">
<h1>Functions</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">function_name ()</span> <span class="kw">{</span>
   <span class="kw">command...</span>
<span class="kw">}</span></code></pre></div>
<div class="fragment">
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="fu">display()</span> <span class="kw">{</span>
    <span class="kw">echo</span> <span class="st">&quot;This is the message from the function&quot;</span>
    <span class="kw">echo</span> <span class="st">&quot;The parameter passed from calling process is&quot;</span> <span class="ot">$1</span>
<span class="kw">}</span>
<span class="kw">display</span> <span class="st">&quot;Bob&quot;</span>
<span class="kw">display</span> <span class="st">&quot;Rambo&quot;</span>
<span class="kw">display</span> <span class="st">&quot;Bond&quot;</span></code></pre></div>
</div>
</section><section id="built-in-shell-commands" class="slide level2">
<h1>Built-in Shell Commands</h1>
<p><code>type</code>, <code>man bash</code> or <code>help</code></p>
<figure>
<img src="res/LFS01_chapter14_screen_15.jpg" />
</figure>
</section><section id="command-substitution" class="slide level2">
<h1>Command Substitution</h1>
<ul>
<li>enclosing inner command with <code>`</code></li>
<li>or <code>$( )</code></li>
<li>launch a new shell, standard out inserted in the place</li>
</ul>
<div class="fragment">
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">echo</span> cd /lib/modules/<span class="ot">$(</span><span class="kw">uname</span> -r<span class="ot">)</span>/
<span class="kw">echo</span> cd /lib/modules/<span class="kw">`uname</span> -r<span class="kw">`</span>/
<span class="kw">cd</span> /lib/modules/<span class="ot">$(</span><span class="kw">uname</span> -r<span class="ot">)</span>/
<span class="ot">$(</span><span class="kw">echo</span> cd /lib/modules/<span class="ot">$(</span><span class="kw">uname</span> -r<span class="ot">)</span>/<span class="ot">)</span></code></pre></div>
</div>
</section><section id="environment-variables" class="slide level2">
<h1>Environment Variables</h1>
<ul>
<li class="fragment">Referencing or using: prefix with <code>$</code>. e.g. <code>echo $PATH</code></li>
<li class="fragment"><p>When setting, no <code>$</code> prefix</p>
<p><code>MYCOLOR=blue; echo $MYCOLOR</code></p></li>
<li class="fragment"><p>To make usable by child processes (sub-shells)</p>
<p><code>export VAR=value</code> or <code>VAR=value ; export VAR</code></p>
<p>copied to child process without copy back.</p></li>
</ul>
</section><section id="script-parameters" class="slide level2">
<h1>Script Parameters</h1>
<pre><code>./script.sh /tmp
./script.sh 100 200</code></pre>
<div class="fragment">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Parameter</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>$0</code></td>
<td style="text-align: left;">Script name</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>$1</code></td>
<td style="text-align: left;">First parameter</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>$2, $3</code>...</td>
<td style="text-align: left;">Second, third parameter, ...</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>$*</code></td>
<td style="text-align: left;">All parameters in a string</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>$#</code></td>
<td style="text-align: left;">Number of arguments</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>$@</code></td>
<td style="text-align: left;">All parameters in a set</td>
</tr>
</tbody>
</table>
</div>
</section><section class="slide level2">

<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="kw">echo</span> <span class="st">&quot;The name of this program is: </span><span class="ot">$0</span><span class="st">&quot;</span>
<span class="kw">echo</span> <span class="st">&quot;The first argument passed from the command line is: </span><span class="ot">$1</span><span class="st">&quot;</span>
<span class="kw">echo</span> <span class="st">&quot;The second argument passed from the command line is: </span><span class="ot">$2</span><span class="st">&quot;</span>
<span class="kw">echo</span> <span class="st">&quot;The third argument passed from the command line is: </span><span class="ot">$3</span><span class="st">&quot;</span>
<span class="kw">echo</span> <span class="st">&quot;All of the arguments passed from the command line are : </span><span class="ot">$*</span><span class="st">&quot;</span>
<span class="kw">echo</span>
<span class="kw">echo</span> <span class="st">&quot;All done with </span><span class="ot">$0</span><span class="st">&quot;</span></code></pre></div>
</section><section id="io-redirection" class="slide level2">
<h1>I/O Redirection</h1>
<ul>
<li class="fragment"><code>&gt;</code>, <code>&gt;&gt;</code>, <code>&lt;</code></li>
<li class="fragment"><code>free &gt; /tmp/free.out</code></li>
<li class="fragment"><code>free &gt;&gt; /tmp/free.out</code></li>
<li class="fragment"><code>wc -l &lt; /temp/free.out</code></li>
</ul>
</section></section>
<section><section id="constructs" class="titleslide slide level1"><h1>Constructs</h1></section><section id="the-if-statement" class="slide level2">
<h1>The if Statement</h1>
<p><code>if TEST-COMMANDS; then CONSEQUENT-COMMANDS; fi</code></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">if</span> <span class="kw">condition</span>
<span class="kw">then</span>
       <span class="kw">statements</span>
<span class="kw">else</span>
       <span class="kw">statements</span>
<span class="kw">fi</span></code></pre></div>
</section><section class="slide level2">

<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">if [</span> <span class="ot">-f</span> /etc/passwd<span class="kw"> ]</span> ; <span class="kw">then</span>
    <span class="kw">echo</span> <span class="st">&quot;/etc/passwd exists.&quot;</span>
<span class="kw">fi</span></code></pre></div>
<div class="fragment">
<p><code>[[ -f /etc/passwd ]]</code> or <code>(( -f /etc/passwd ))</code></p>
</div>
</section><section id="testing-for-files" class="slide level2">
<h1>Testing for Files</h1>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Condition</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>-e file</code></td>
<td style="text-align: left;">Check if the file exists.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-d file</code></td>
<td style="text-align: left;">Check if the file is a directory.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>-f file</code></td>
<td style="text-align: left;">Check if the file is a regular file (not symbolic link, device node, directory, etc.)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-s file</code></td>
<td style="text-align: left;">Check if the file is of non-zero size.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>-g file</code></td>
<td style="text-align: left;">Check if the file has sgid set.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-u file</code></td>
<td style="text-align: left;">Check if the file has suid set.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>-r file</code></td>
<td style="text-align: left;">Check if the file is readable.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-w file</code></td>
<td style="text-align: left;">Check if the file is writable.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>-x file</code></td>
<td style="text-align: left;">Check if the file is executable.</td>
</tr>
</tbody>
</table>
<p><code>man 1 test</code></p>
</section><section class="slide level2">

<p>String Testing</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">if [</span> string1 <span class="ot">==</span> string2<span class="kw"> ]</span> ; <span class="kw">then</span>
   <span class="kw">ACTION</span>
<span class="kw">fi</span></code></pre></div>
</section><section id="numerical-tests" class="slide level2">
<h1>Numerical Tests</h1>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Operator</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>-eq</code></td>
<td style="text-align: left;">Equal to</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-ne</code></td>
<td style="text-align: left;">Not equal to</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>-gt</code></td>
<td style="text-align: left;">Greater than</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-lt</code></td>
<td style="text-align: left;">Less than</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>-ge</code></td>
<td style="text-align: left;">Greater than or equal to</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-le</code></td>
<td style="text-align: left;">Less than or equal to</td>
</tr>
</tbody>
</table>
</section><section class="slide level2">

<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="co"># Prompt for a user name...</span>
<span class="kw">echo</span> <span class="st">&quot;Please enter your age:&quot;</span>
<span class="kw">read</span> <span class="ot">AGE</span>
<span class="kw">if [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-lt</span> 20<span class="kw"> ]</span> <span class="kw">|| [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-ge</span> 50<span class="kw"> ]</span> ; <span class="kw">then</span>
    <span class="kw">echo</span> <span class="st">&quot;Sorry, you are out of the age range.&quot;</span>
<span class="kw">elif [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-ge</span> 20<span class="kw"> ]</span> <span class="kw">&amp;&amp; [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-lt</span> 30<span class="kw"> ]</span> ; <span class="kw">then</span>
    <span class="kw">echo</span> <span class="st">&quot;You are in your 20s&quot;</span>
<span class="kw">elif [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-ge</span> 30<span class="kw"> ]</span> <span class="kw">&amp;&amp; [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-lt</span> 40<span class="kw"> ]</span> ; <span class="kw">then</span>
    <span class="kw">echo</span> <span class="st">&quot;You are in your 30s&quot;</span>
<span class="kw">elif [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-ge</span> 40<span class="kw"> ]</span> <span class="kw">&amp;&amp; [</span> <span class="st">&quot;</span><span class="ot">$AGE</span><span class="st">&quot;</span> <span class="ot">-lt</span> 50<span class="kw"> ]</span> ; <span class="kw">then</span>
    <span class="kw">echo</span> <span class="st">&quot;You are in your 40s&quot;</span>
<span class="kw">fi</span></code></pre></div>
</section><section id="arithmetic-expressions" class="slide level2">
<h1>Arithmetic Expressions</h1>
<ul>
<li class="fragment"><p><code>$((...))</code></p>
<p><code>echo $((x+1))</code></p></li>
<li class="fragment"><p>built-in shell command <code>let</code></p>
<p><code>let x=( 1 + 2 ); echo $x</code></p></li>
<li class="fragment"><p><code>var=$((...))</code></p>
<p><code>x=$((1+2)); echo $x</code></p></li>
</ul>
</section><section id="string-operators" class="slide level2">
<h1>String Operators</h1>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Operator</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>[[ string1 &gt; string2 ]]</code></td>
<td style="text-align: left;">Compares the sorting order</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>[[ string1 == string2 ]]</code></td>
<td style="text-align: left;">Compares the characters</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>myLen1=${#string1}</code></td>
<td style="text-align: left;">Saves the length of string1 in the variable myLen1.</td>
</tr>
</tbody>
</table>
</section><section id="parts-of-a-string" class="slide level2">
<h1>Parts of a String</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ot">name=</span><span class="st">&quot;bagend.hobbiton.com&quot;</span>; <span class="kw">echo</span> <span class="ot">$name</span>
<span class="ot">loco=${name:0:6}</span>; <span class="kw">echo</span> <span class="ot">$loco</span>
<span class="ot">moto=${name#</span>*.<span class="ot">}</span>; <span class="kw">echo</span> <span class="ot">$moto</span></code></pre></div>
</section><section id="boolean-expressions" class="slide level2">
<h1>Boolean Expressions</h1>
<p>evaluate to either <strong>TRUE</strong> or <strong>FALSE</strong></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Operator</th>
<th style="text-align: left;">Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>&amp;&amp;</code></td>
<td style="text-align: left;">AND</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>||</code></td>
<td style="text-align: left;">OR</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>!</code></td>
<td style="text-align: left;">NOT</td>
</tr>
</tbody>
</table>
</section><section id="case-statement" class="slide level2">
<h1>Case Statement</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">case</span> expression<span class="kw"> in</span>
   pattern1<span class="kw">)</span> <span class="kw">execute</span> commands<span class="kw">;;</span>
   <span class="kw">pattern2</span>) <span class="kw">execute</span> commands<span class="kw">;;</span>
   <span class="kw">pattern3</span>) <span class="kw">execute</span> commands<span class="kw">;;</span>
   <span class="kw">pattern4</span>) <span class="kw">execute</span> commands<span class="kw">;;</span>
   <span class="kw">*</span> )       <span class="kw">execute</span> some default commands or nothing <span class="kw">;;</span>
<span class="kw">esac</span></code></pre></div>
</section><section class="slide level2">

<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="co"># Prompt user to enter a character</span>
<span class="kw">echo</span> <span class="st">&quot;Please enter a letter:&quot;</span>
<span class="kw">read</span> <span class="ot">charac</span>
<span class="kw">case</span> <span class="st">&quot;</span><span class="ot">$charac</span><span class="st">&quot;</span><span class="kw"> in</span>
    <span class="st">&quot;a&quot;</span><span class="kw">|</span><span class="st">&quot;A&quot;</span><span class="kw">)</span> <span class="kw">echo</span> <span class="st">&quot;You have typed a vowel!&quot;</span> <span class="kw">;;</span>
    <span class="st">&quot;e&quot;</span><span class="kw">|</span><span class="st">&quot;E&quot;</span>) <span class="kw">echo</span> <span class="st">&quot;You have typed a vowel!&quot;</span> <span class="kw">;;</span>
    <span class="st">&quot;i&quot;</span><span class="kw">|</span><span class="st">&quot;I&quot;</span>) <span class="kw">echo</span> <span class="st">&quot;You have typed a vowel!&quot;</span> <span class="kw">;;</span>
    <span class="st">&quot;o&quot;</span><span class="kw">|</span><span class="st">&quot;O&quot;</span>) <span class="kw">echo</span> <span class="st">&quot;You have typed a vowel!&quot;</span> <span class="kw">;;</span>
    <span class="st">&quot;u&quot;</span><span class="kw">|</span><span class="st">&quot;U&quot;</span>) <span class="kw">echo</span> <span class="st">&quot;You have typed a vowel!&quot;</span> <span class="kw">;;</span>
    <span class="kw">*</span>)       <span class="kw">echo</span> <span class="st">&quot;You have typed a consonant!&quot;</span> <span class="kw">;;</span>
<span class="kw">esac</span>
<span class="kw">exit</span> 0</code></pre></div>
</section></section>
<section><section id="looping-constructs" class="titleslide slide level1"><h1>Looping Constructs</h1></section><section id="for-loop" class="slide level2">
<h1><code>for</code> Loop</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">for</span> <span class="kw">variable-name</span> in list
<span class="kw">do</span>
    <span class="kw">execute</span> one iteration for each item in the
            <span class="kw">list</span> until the list is finished
<span class="kw">done</span></code></pre></div>
</section><section class="slide level2">

<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="co">#</span>
<span class="ot">sum=</span>0
<span class="kw">for</span> <span class="kw">i</span> in 1 2 3 4
<span class="kw">do</span>
    <span class="ot">sum=$(($sum</span>+<span class="ot">$i))</span>
<span class="kw">done</span>
<span class="kw">echo</span> <span class="st">&quot;The sum of </span><span class="ot">$i</span><span class="st"> numbers is: </span><span class="ot">$sum</span><span class="st">&quot;</span></code></pre></div>
</section><section id="while-loop" class="slide level2">
<h1><code>while</code> Loop</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="co">#</span>
<span class="kw">echo</span> <span class="st">&quot;Enter the number&quot;</span>
<span class="kw">read</span> <span class="ot">no</span>
<span class="ot">fact=</span>1
<span class="ot">i=</span>1
<span class="kw">while [</span> <span class="ot">$i</span> <span class="ot">-le</span> <span class="ot">$no</span><span class="kw"> ]</span>
<span class="kw">do</span>
    <span class="ot">fact=$(($fact</span> * <span class="ot">$i))</span>
    <span class="ot">i=$(($i</span> + 1<span class="ot">))</span>
<span class="kw">done</span>
<span class="kw">echo</span> <span class="st">&quot;The factorial of </span><span class="ot">$no</span><span class="st"> is </span><span class="ot">$fact</span><span class="st">&quot;</span></code></pre></div>
</section><section id="until-loop" class="slide level2">
<h1><code>until</code> Loop</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="kw">echo</span> <span class="st">&quot;odd NUMBER under 10&quot;</span>
<span class="ot">mn=</span>1
<span class="ot">mx=</span>10
<span class="kw">until [</span> <span class="ot">$mn</span> <span class="ot">-gt</span> <span class="ot">$mx</span><span class="kw"> ]</span>
<span class="kw">do</span>
    <span class="kw">echo</span> <span class="st">&quot;</span><span class="ot">$mn</span><span class="st">&quot;</span>
    <span class="ot">mn=$(($mn</span> + 2<span class="ot">))</span>
<span class="kw">done</span></code></pre></div>
</section></section>
<section><section id="debugging" class="titleslide slide level1"><h1>Debugging</h1></section><section id="debug-mode" class="slide level2">
<h1>Debug Mode</h1>
<ul>
<li class="fragment"><p>run in debug mode <code>bash -x script_file</code></p>
<p>traces, prefixes commands with <code>+</code>, displays them.</p></li>
<li class="fragment"><p>Partial debugging</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">set</span> <span class="kw">-x</span> <span class="co"># turns on debugging</span>
<span class="kw">...</span>
<span class="kw">set</span> <span class="kw">+x</span> <span class="co"># turns off debugging</span></code></pre></div></li>
</ul>
</section><section id="redirecting-errors" class="slide level2">
<h1>Redirecting Errors</h1>
<table>
<thead>
<tr class="header">
<th>File stream</th>
<th style="text-align: left;">File Descriptor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>stdin</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td>stdout</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td>stderr</td>
<td style="text-align: left;">2</td>
</tr>
</tbody>
</table>
<p><code>bash sample.sh 2&gt; error.txt</code></p>
</section></section>
<section><section id="more-tutorials" class="titleslide slide level1"><h1>More tutorials</h1></section><section id="see" class="slide level2">
<h1>See</h1>
<p><a href="res/bash-pgming.pdf">Bash Programming</a></p>
<p><a href="res/UNIX-Shell-Scripting-Basics.pptx">UNIX Shell Scripting Basics</a></p>
</section></section>
    </div>
  </div>

  <script src="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/lib/js/head.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,

        // Optional reveal.js plugins
        dependencies: [
          { src: '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/plugin/zoom-js/zoom.js', async: true },
          { src: '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
